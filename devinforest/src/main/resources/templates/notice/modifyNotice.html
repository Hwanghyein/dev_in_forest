<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<meta charset="UTF-8">
		<title th:text="${notice.noticeTitle}+'글 수정'"></title>
	</head>
	<body>
		<div>
			<h1>공지사항 수정</h1>
		</div>
		<div>
			<form id="modifyNoticeForm" method="post" th:action="@{/modifyNotice}">
				<input type="hidden" name="noticeNo" th:value="${notice.noticeNo}">
				<div>
					작성일 : 
					<span th:text="${notice.noticeDate}"></span>
				</div>
				<div>
					작성자 :
					<span th:text="${notice.adminName}"></span>
				</div>
				<div>
					제목 :
					<input id="noticeTitle" type="text" name="noticeTitle" th:value="${notice.noticeTitle}">
				</div>
				<div>
					내용 :
					<textarea id="noticeContent" name="noticeContent" th:text="${notice.noticeContent}"></textarea>
				</div>
				<div>
					<button id="modifyNoticeBtn" type="button">수정완료</button>
				</div>
			</form>
		</div>
	</body>
	<script>
		$('#modifyNoticeBtn').click(function(){
			let noticeTitle = $('#noticeTitle').val();
			//console.log(noticeTitle.search(/\s/)+' <- 공백');
			if(noticeTitle == ''){
				alert('제목을 입력해주세요.');
				return;
			}
			if(noticeTitle.length < 2 || noticeTitle.length > 20){
				alert('제목은 2자리 ~ 20자리 이내로 입력해주세요.');
				return;
			}
			if(noticeTitle.search(/\s/) == 0){
				alert("제목은 공백으로 시작할 수 없습니다.");
				return;
			}
			if($('#noticeContent').val()==''){
				alert('내용을 입력해주세요.');
				return;
			}
			$('#modifyNoticeForm').submit();
		});
	</script>
</html>