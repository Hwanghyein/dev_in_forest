<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.devinforest.mapper.QuestionCommentMapper">
	<!-- 질문 댓글 작성 -->
	<insert id="insertQuestionComment" parameterType="com.devinforest.vo.QuestionComment">
		INSERT INTO
			dev_question_comment(
				question_no,
				member_name,
				question_comment_content,
				question_comment_date,
				question_comment_ip
			)
			VALUES(
				#{questionNo},
				#{memberName},
				#{questionCommentContent},
				NOW(),
				#{questionCommentIp}
			)
	</insert>
	
	<!-- 질문 댓글 목록 -->
	<select id="selectQuestionCommentList" resultType="com.devinforest.vo.QuestionComment" parameterType="java.util.Map">
		SELECT 
			question_comment_no questionCommentNo,
			member_name memberName,
			question_comment_content questionCommentContent
		FROM dev_question_comment
		WHERE question_no = #{questionNo}
		ORDER BY question_comment_date DESC
		LIMIT 0, #{rowPerPage}
	</select>
	
	<!-- 질문 댓글 총 개수 -->
	<select id="selectQuestionCommentTotalRow" resultType="int" parameterType="com.devinforest.vo.QuestionComment">
		SELECT 
			COUNT(*)
		FROM 
			dev_question_comment
		WHERE 
			question_no = #{questionNo}
	</select>
</mapper>