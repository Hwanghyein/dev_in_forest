<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.devinforest.mapper.HashtagMapper">

	<!-- 해시태그 리스트 출력 -->
	<select id="selectHashtagList" resultType="com.devinforest.vo.Hashtag" parameterType="java.util.Map">
		SELECT
			hashtag_no hashtagNo,
			hashtag_name hashtagName,
			hashtag_content hashtagContent,
			hashtag_date hashtagDate
		FROM dev_hashtag
		WHERE hashtag_name LIKE CONCAT('%', #{searchWord}, '%')
		LIMIT #{beginRow}, #{rowPerPage} 
	</select>
	
	<!-- 해시태그 생성 -->
	<insert id="insertHashtag" parameterType="com.devinforest.vo.Hashtag">
		INSERT INTO
			dev_hashtag(
				hashtag_name,
				hashtag_content,
				hashtag_date
			) VALUES(
				#{hashtagName},
				#{hashtagContent},
				NOW()
			)
			
	</insert>
	
	<!-- 해시태그 총 개수 -->
	<select id="hashtagTotalRow" parameterType="String" resultType="int">
		SELECT
			count(*)
		FROM
			dev_hashtag
		WHERE hashtag_name LIKE CONCAT('%', #{searchWord}, '%')
	</select>

</mapper>